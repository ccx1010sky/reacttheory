<!-- 新引入了一个state -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <button type="button" id="like">喜欢</button>
    <script>
      var likeBtn = document.getElementById("like");

      //状态 定义字面量对象
      var state = {
        like: false,
        color:"red"
        
      };

      //用个函数来修改状态
      //newState为形参对象parameter
       function setState(newState){
          state = {
              ...state,
              ...newState
          }
          render();

      }
      //渲染
      var render = function() {
        if (state.like) {
          likeBtn.innerHTML = "已赞";
          likeBtn.style.color = "red";
        } else {
          likeBtn.innerHTML = "喜欢";
          likeBtn.style.color = "black";
        }
      };
      //监听
      likeBtn.addEventListener("click", function() {

        setState({
              like: !state.like
          });
            
        
      });
    </script>
  </body>
</html>
